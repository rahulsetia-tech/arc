{"dependencies":[{"name":"./auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"bPsbxvG/upGRzIWg1D65yZCgVZE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _auth = require(_dependencyMap[0], \"./auth\");\n  const BASE_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  async function getHeaders(withAuth = true) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (withAuth) {\n      const token = await (0, _auth.getToken)();\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n    }\n    return headers;\n  }\n  async function request(path, options = {}, withAuth = true) {\n    const headers = await getHeaders(withAuth);\n    const response = await fetch(`${BASE_URL}/api${path}`, {\n      ...options,\n      headers: {\n        ...headers,\n        ...(options.headers || {})\n      }\n    });\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.detail || data.message || 'Request failed');\n    }\n    return data;\n  }\n  const api = {\n    // Auth\n    register: (username, email, password) => request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify({\n        username,\n        email,\n        password\n      })\n    }, false),\n    login: (email, password) => request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }, false),\n    getMe: () => request('/auth/me'),\n    // Runs\n    startRun: () => request('/runs/start', {\n      method: 'POST'\n    }),\n    endRun: (runId, coordinates) => request('/runs/end', {\n      method: 'POST',\n      body: JSON.stringify({\n        runId,\n        coordinates\n      })\n    }),\n    getUserRuns: userId => request(`/runs/${userId}`),\n    getRunDetail: runId => request(`/runs/detail/${runId}`),\n    // Territories\n    getTerritories: (minLng, minLat, maxLng, maxLat) => request(`/territories?minLng=${minLng}&minLat=${minLat}&maxLng=${maxLng}&maxLat=${maxLat}`),\n    getUserTerritories: userId => request(`/territories/user/${userId}`),\n    // Leaderboard\n    getGlobalLeaderboard: () => request('/leaderboard/global'),\n    // Profile\n    getUserProfile: userId => request(`/users/${userId}/profile`),\n    updateProfile: (userId, data) => request(`/users/${userId}/profile`, {\n      method: 'PUT',\n      body: JSON.stringify(data)\n    })\n  };\n});","lineCount":85,"map":[[7,2,31,0,"Object"],[7,8,31,0],[7,9,31,0,"defineProperty"],[7,23,31,0],[7,24,31,0,"exports"],[7,31,31,0],[8,4,31,0,"enumerable"],[8,14,31,0],[9,4,31,0,"get"],[9,7,31,0],[9,18,31,0,"get"],[9,19,31,0],[10,6,31,0],[10,13,31,0,"api"],[10,16,31,0],[11,4,31,0],[12,2,31,0],[13,2,1,0],[13,6,1,0,"_auth"],[13,11,1,0],[13,14,1,0,"require"],[13,21,1,0],[13,22,1,0,"_dependencyMap"],[13,36,1,0],[14,2,3,0],[14,8,3,6,"BASE_URL"],[14,16,3,14],[14,19,3,17,"process"],[14,26,3,24],[14,27,3,25,"env"],[14,30,3,28],[14,31,3,29,"EXPO_PUBLIC_BACKEND_URL"],[14,54,3,52],[14,58,3,56],[14,60,3,58],[15,2,5,0],[15,17,5,15,"getHeaders"],[15,27,5,25,"getHeaders"],[15,28,5,26,"withAuth"],[15,36,5,34],[15,39,5,37],[15,43,5,41],[15,45,5,76],[16,4,6,2],[16,10,6,8,"headers"],[16,17,6,39],[16,20,6,42],[17,6,7,4],[17,20,7,18],[17,22,7,20],[18,4,8,2],[18,5,8,3],[19,4,9,2],[19,8,9,6,"withAuth"],[19,16,9,14],[19,18,9,16],[20,6,10,4],[20,12,10,10,"token"],[20,17,10,15],[20,20,10,18],[20,26,10,24],[20,30,10,24,"getToken"],[20,35,10,32],[20,36,10,32,"getToken"],[20,44,10,32],[20,46,10,33],[20,47,10,34],[21,6,11,4],[21,10,11,8,"token"],[21,15,11,13],[21,17,11,15],[22,8,12,6,"headers"],[22,15,12,13],[22,16,12,14],[22,31,12,29],[22,32,12,30],[22,35,12,33],[22,45,12,43,"token"],[22,50,12,48],[22,52,12,50],[23,6,13,4],[24,4,14,2],[25,4,15,2],[25,11,15,9,"headers"],[25,18,15,16],[26,2,16,0],[27,2,18,0],[27,17,18,15,"request"],[27,24,18,22,"request"],[27,25,18,26,"path"],[27,29,18,38],[27,31,18,40,"options"],[27,38,18,60],[27,41,18,63],[27,42,18,64],[27,43,18,65],[27,45,18,67,"withAuth"],[27,53,18,75],[27,56,18,78],[27,60,18,82],[27,62,18,96],[28,4,19,2],[28,10,19,8,"headers"],[28,17,19,15],[28,20,19,18],[28,26,19,24,"getHeaders"],[28,36,19,34],[28,37,19,35,"withAuth"],[28,45,19,43],[28,46,19,44],[29,4,20,2],[29,10,20,8,"response"],[29,18,20,16],[29,21,20,19],[29,27,20,25,"fetch"],[29,32,20,30],[29,33,20,31],[29,36,20,34,"BASE_URL"],[29,44,20,42],[29,51,20,49,"path"],[29,55,20,53],[29,57,20,55],[29,59,20,57],[30,6,21,4],[30,9,21,7,"options"],[30,16,21,14],[31,6,22,4,"headers"],[31,13,22,11],[31,15,22,13],[32,8,22,15],[32,11,22,18,"headers"],[32,18,22,25],[33,8,22,27],[33,12,22,31,"options"],[33,19,22,38],[33,20,22,39,"headers"],[33,27,22,46],[33,31,22,50],[33,32,22,51],[33,33,22,52],[34,6,22,54],[35,4,23,2],[35,5,23,3],[35,6,23,4],[36,4,24,2],[36,10,24,8,"data"],[36,14,24,12],[36,17,24,15],[36,23,24,21,"response"],[36,31,24,29],[36,32,24,30,"json"],[36,36,24,34],[36,37,24,35],[36,38,24,36],[37,4,25,2],[37,8,25,6],[37,9,25,7,"response"],[37,17,25,15],[37,18,25,16,"ok"],[37,20,25,18],[37,22,25,20],[38,6,26,4],[38,12,26,10],[38,16,26,14,"Error"],[38,21,26,19],[38,22,26,20,"data"],[38,26,26,24],[38,27,26,25,"detail"],[38,33,26,31],[38,37,26,35,"data"],[38,41,26,39],[38,42,26,40,"message"],[38,49,26,47],[38,53,26,51],[38,69,26,67],[38,70,26,68],[39,4,27,2],[40,4,28,2],[40,11,28,9,"data"],[40,15,28,13],[41,2,29,0],[42,2,31,7],[42,8,31,13,"api"],[42,11,31,16],[42,14,31,19],[43,4,32,2],[44,4,33,2,"register"],[44,12,33,10],[44,14,33,12,"register"],[44,15,33,13,"username"],[44,23,33,29],[44,25,33,31,"email"],[44,30,33,44],[44,32,33,46,"password"],[44,40,33,62],[44,45,34,4,"request"],[44,52,34,11],[44,53,34,12],[44,69,34,28],[44,71,34,30],[45,6,34,32,"method"],[45,12,34,38],[45,14,34,40],[45,20,34,46],[46,6,34,48,"body"],[46,10,34,52],[46,12,34,54,"JSON"],[46,16,34,58],[46,17,34,59,"stringify"],[46,26,34,68],[46,27,34,69],[47,8,34,71,"username"],[47,16,34,79],[48,8,34,81,"email"],[48,13,34,86],[49,8,34,88,"password"],[50,6,34,97],[50,7,34,98],[51,4,34,100],[51,5,34,101],[51,7,34,103],[51,12,34,108],[51,13,34,109],[52,4,36,2,"login"],[52,9,36,7],[52,11,36,9,"login"],[52,12,36,10,"email"],[52,17,36,23],[52,19,36,25,"password"],[52,27,36,41],[52,32,37,4,"request"],[52,39,37,11],[52,40,37,12],[52,53,37,25],[52,55,37,27],[53,6,37,29,"method"],[53,12,37,35],[53,14,37,37],[53,20,37,43],[54,6,37,45,"body"],[54,10,37,49],[54,12,37,51,"JSON"],[54,16,37,55],[54,17,37,56,"stringify"],[54,26,37,65],[54,27,37,66],[55,8,37,68,"email"],[55,13,37,73],[56,8,37,75,"password"],[57,6,37,84],[57,7,37,85],[58,4,37,87],[58,5,37,88],[58,7,37,90],[58,12,37,95],[58,13,37,96],[59,4,39,2,"getMe"],[59,9,39,7],[59,11,39,9,"getMe"],[59,12,39,9],[59,17,39,15,"request"],[59,24,39,22],[59,25,39,23],[59,35,39,33],[59,36,39,34],[60,4,41,2],[61,4,42,2,"startRun"],[61,12,42,10],[61,14,42,12,"startRun"],[61,15,42,12],[61,20,42,18,"request"],[61,27,42,25],[61,28,42,26],[61,41,42,39],[61,43,42,41],[62,6,42,43,"method"],[62,12,42,49],[62,14,42,51],[63,4,42,58],[63,5,42,59],[63,6,42,60],[64,4,44,2,"endRun"],[64,10,44,8],[64,12,44,10,"endRun"],[64,13,44,11,"runId"],[64,18,44,24],[64,20,44,26,"coordinates"],[64,31,44,49],[64,36,45,4,"request"],[64,43,45,11],[64,44,45,12],[64,55,45,23],[64,57,45,25],[65,6,45,27,"method"],[65,12,45,33],[65,14,45,35],[65,20,45,41],[66,6,45,43,"body"],[66,10,45,47],[66,12,45,49,"JSON"],[66,16,45,53],[66,17,45,54,"stringify"],[66,26,45,63],[66,27,45,64],[67,8,45,66,"runId"],[67,13,45,71],[68,8,45,73,"coordinates"],[69,6,45,85],[69,7,45,86],[70,4,45,88],[70,5,45,89],[70,6,45,90],[71,4,47,2,"getUserRuns"],[71,15,47,13],[71,17,47,16,"userId"],[71,23,47,30],[71,27,47,35,"request"],[71,34,47,42],[71,35,47,43],[71,44,47,52,"userId"],[71,50,47,58],[71,52,47,60],[71,53,47,61],[72,4,49,2,"getRunDetail"],[72,16,49,14],[72,18,49,17,"runId"],[72,23,49,30],[72,27,49,35,"request"],[72,34,49,42],[72,35,49,43],[72,51,49,59,"runId"],[72,56,49,64],[72,58,49,66],[72,59,49,67],[73,4,51,2],[74,4,52,2,"getTerritories"],[74,18,52,16],[74,20,52,18,"getTerritories"],[74,21,52,19,"minLng"],[74,27,52,33],[74,29,52,35,"minLat"],[74,35,52,49],[74,37,52,51,"maxLng"],[74,43,52,65],[74,45,52,67,"maxLat"],[74,51,52,81],[74,56,53,4,"request"],[74,63,53,11],[74,64,53,12],[74,87,53,35,"minLng"],[74,93,53,41],[74,104,53,52,"minLat"],[74,110,53,58],[74,121,53,69,"maxLng"],[74,127,53,75],[74,138,53,86,"maxLat"],[74,144,53,92],[74,146,53,94],[74,147,53,95],[75,4,55,2,"getUserTerritories"],[75,22,55,20],[75,24,55,23,"userId"],[75,30,55,37],[75,34,55,42,"request"],[75,41,55,49],[75,42,55,50],[75,63,55,71,"userId"],[75,69,55,77],[75,71,55,79],[75,72,55,80],[76,4,57,2],[77,4,58,2,"getGlobalLeaderboard"],[77,24,58,22],[77,26,58,24,"getGlobalLeaderboard"],[77,27,58,24],[77,32,58,30,"request"],[77,39,58,37],[77,40,58,38],[77,61,58,59],[77,62,58,60],[78,4,60,2],[79,4,61,2,"getUserProfile"],[79,18,61,16],[79,20,61,19,"userId"],[79,26,61,33],[79,30,61,38,"request"],[79,37,61,45],[79,38,61,46],[79,48,61,56,"userId"],[79,54,61,62],[79,64,61,72],[79,65,61,73],[80,4,63,2,"updateProfile"],[80,17,63,15],[80,19,63,17,"updateProfile"],[80,20,63,18,"userId"],[80,26,63,32],[80,28,63,34,"data"],[80,32,63,81],[80,37,64,4,"request"],[80,44,64,11],[80,45,64,12],[80,55,64,22,"userId"],[80,61,64,28],[80,71,64,38],[80,73,64,40],[81,6,64,42,"method"],[81,12,64,48],[81,14,64,50],[81,19,64,55],[82,6,64,57,"body"],[82,10,64,61],[82,12,64,63,"JSON"],[82,16,64,67],[82,17,64,68,"stringify"],[82,26,64,77],[82,27,64,78,"data"],[82,31,64,82],[83,4,64,84],[83,5,64,85],[84,2,65,0],[84,3,65,1],[85,0,65,2],[85,3]],"functionMap":{"names":["<global>","getHeaders","request","register","login","getMe","startRun","endRun","getUserRuns","getRunDetail","getTerritories","getUserTerritories","getGlobalLeaderboard","getUserProfile","updateProfile"],"mappings":"AAA;ACI;CDW;AEE;CFW;YGI;6GHC;SIE;gGJC;SKE,yBL;YMG,gDN;UOE;0FPC;eQE,8CR;gBSE,mDT;kBUG;+FVC;sBWE,0DX;wBYG,oCZ;kBaG,uDb;iBcE;sFdC"},"hasCjsExports":false},"type":"js/module"}]}