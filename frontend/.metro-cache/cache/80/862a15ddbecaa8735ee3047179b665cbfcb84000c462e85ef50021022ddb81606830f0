{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"./auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"bPsbxvG/upGRzIWg1D65yZCgVZE=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _auth = require(_dependencyMap[1], \"./auth\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // On web, use relative URL so the proxy routes /api/* to port 8001\n  // On native, use the full backend URL\n  const BASE_URL = Platform.default.OS === 'web' ? '' : _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  async function getHeaders(withAuth = true) {\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    if (withAuth) {\n      const token = await (0, _auth.getToken)();\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n    }\n    return headers;\n  }\n  async function request(path, options = {}, withAuth = true) {\n    const headers = await getHeaders(withAuth);\n    const response = await fetch(`${BASE_URL}/api${path}`, Object.assign({}, options, {\n      headers: Object.assign({}, headers, options.headers || {})\n    }));\n    const data = await response.json();\n    if (!response.ok) {\n      throw new Error(data.detail || data.message || 'Request failed');\n    }\n    return data;\n  }\n  const api = {\n    // Auth\n    register: (username, email, password) => request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify({\n        username,\n        email,\n        password\n      })\n    }, false),\n    login: (email, password) => request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }, false),\n    getMe: () => request('/auth/me'),\n    // Runs\n    startRun: () => request('/runs/start', {\n      method: 'POST'\n    }),\n    endRun: (runId, coordinates) => request('/runs/end', {\n      method: 'POST',\n      body: JSON.stringify({\n        runId,\n        coordinates\n      })\n    }),\n    getUserRuns: userId => request(`/runs/${userId}`),\n    getRunDetail: runId => request(`/runs/detail/${runId}`),\n    // Territories\n    getTerritories: (minLng, minLat, maxLng, maxLat) => request(`/territories?minLng=${minLng}&minLat=${minLat}&maxLng=${maxLng}&maxLat=${maxLat}`),\n    getUserTerritories: userId => request(`/territories/user/${userId}`),\n    // Leaderboard\n    getGlobalLeaderboard: () => request('/leaderboard/global'),\n    // Profile\n    getUserProfile: userId => request(`/users/${userId}/profile`),\n    updateProfile: (userId, data) => request(`/users/${userId}/profile`, {\n      method: 'PUT',\n      body: JSON.stringify(data)\n    })\n  };\n});","lineCount":91,"map":[[12,2,36,0,"Object"],[12,8,36,0],[12,9,36,0,"defineProperty"],[12,23,36,0],[12,24,36,0,"exports"],[12,31,36,0],[13,4,36,0,"enumerable"],[13,14,36,0],[14,4,36,0,"get"],[14,7,36,0],[14,18,36,0,"get"],[14,19,36,0],[15,6,36,0],[15,13,36,0,"api"],[15,16,36,0],[16,4,36,0],[17,2,36,0],[18,2,70,2],[18,6,70,2,"_expoVirtualEnv"],[18,21,70,2],[18,24,70,2,"require"],[18,31,70,2],[18,32,70,2,"_dependencyMap"],[18,46,70,2],[19,2,1,0],[19,6,1,0,"_auth"],[19,11,1,0],[19,14,1,0,"require"],[19,21,1,0],[19,22,1,0,"_dependencyMap"],[19,36,1,0],[20,2,1,34],[20,6,1,34,"_reactNativeWebDistExportsPlatform"],[20,40,1,34],[20,43,1,34,"require"],[20,50,1,34],[20,51,1,34,"_dependencyMap"],[20,65,1,34],[21,2,1,34],[21,6,1,34,"Platform"],[21,14,1,34],[21,17,1,34,"_interopDefault"],[21,32,1,34],[21,33,1,34,"_reactNativeWebDistExportsPlatform"],[21,67,1,34],[22,2,4,0],[23,2,5,0],[24,2,6,0],[24,8,6,6,"BASE_URL"],[24,16,6,14],[24,19,6,17,"Platform"],[24,27,6,25],[24,28,6,25,"default"],[24,35,6,25],[24,36,6,26,"OS"],[24,38,6,28],[24,43,6,33],[24,48,6,38],[24,51,7,4],[24,53,7,6],[24,56,8,5,"_expoVirtualEnv"],[24,71,8,5],[24,72,8,5,"env"],[24,75,8,5],[24,76,8,5,"EXPO_PUBLIC_BACKEND_URL"],[24,99,8,5],[24,103,8,44],[24,105,8,47],[25,2,10,0],[25,17,10,15,"getHeaders"],[25,27,10,25,"getHeaders"],[25,28,10,26,"withAuth"],[25,36,10,34],[25,39,10,37],[25,43,10,41],[25,45,10,76],[26,4,11,2],[26,10,11,8,"headers"],[26,17,11,39],[26,20,11,42],[27,6,12,4],[27,20,12,18],[27,22,12,20],[28,4,13,2],[28,5,13,3],[29,4,14,2],[29,8,14,6,"withAuth"],[29,16,14,14],[29,18,14,16],[30,6,15,4],[30,12,15,10,"token"],[30,17,15,15],[30,20,15,18],[30,26,15,24],[30,30,15,24,"getToken"],[30,35,15,32],[30,36,15,32,"getToken"],[30,44,15,32],[30,46,15,33],[30,47,15,34],[31,6,16,4],[31,10,16,8,"token"],[31,15,16,13],[31,17,16,15],[32,8,17,6,"headers"],[32,15,17,13],[32,16,17,14],[32,31,17,29],[32,32,17,30],[32,35,17,33],[32,45,17,43,"token"],[32,50,17,48],[32,52,17,50],[33,6,18,4],[34,4,19,2],[35,4,20,2],[35,11,20,9,"headers"],[35,18,20,16],[36,2,21,0],[37,2,23,0],[37,17,23,15,"request"],[37,24,23,22,"request"],[37,25,23,26,"path"],[37,29,23,38],[37,31,23,40,"options"],[37,38,23,60],[37,41,23,63],[37,42,23,64],[37,43,23,65],[37,45,23,67,"withAuth"],[37,53,23,75],[37,56,23,78],[37,60,23,82],[37,62,23,96],[38,4,24,2],[38,10,24,8,"headers"],[38,17,24,15],[38,20,24,18],[38,26,24,24,"getHeaders"],[38,36,24,34],[38,37,24,35,"withAuth"],[38,45,24,43],[38,46,24,44],[39,4,25,2],[39,10,25,8,"response"],[39,18,25,16],[39,21,25,19],[39,27,25,25,"fetch"],[39,32,25,30],[39,33,25,31],[39,36,25,34,"BASE_URL"],[39,44,25,42],[39,51,25,49,"path"],[39,55,25,53],[39,57,25,55],[39,59,25,55,"Object"],[39,65,25,55],[39,66,25,55,"assign"],[39,72,25,55],[39,77,26,7,"options"],[39,84,26,14],[40,6,27,4,"headers"],[40,13,27,11],[40,15,27,11,"Object"],[40,21,27,11],[40,22,27,11,"assign"],[40,28,27,11],[40,33,27,18,"headers"],[40,40,27,25],[40,42,27,31,"options"],[40,49,27,38],[40,50,27,39,"headers"],[40,57,27,46],[40,61,27,50],[40,62,27,51],[40,63,27,52],[41,4,27,55],[41,6,28,3],[41,7,28,4],[42,4,29,2],[42,10,29,8,"data"],[42,14,29,12],[42,17,29,15],[42,23,29,21,"response"],[42,31,29,29],[42,32,29,30,"json"],[42,36,29,34],[42,37,29,35],[42,38,29,36],[43,4,30,2],[43,8,30,6],[43,9,30,7,"response"],[43,17,30,15],[43,18,30,16,"ok"],[43,20,30,18],[43,22,30,20],[44,6,31,4],[44,12,31,10],[44,16,31,14,"Error"],[44,21,31,19],[44,22,31,20,"data"],[44,26,31,24],[44,27,31,25,"detail"],[44,33,31,31],[44,37,31,35,"data"],[44,41,31,39],[44,42,31,40,"message"],[44,49,31,47],[44,53,31,51],[44,69,31,67],[44,70,31,68],[45,4,32,2],[46,4,33,2],[46,11,33,9,"data"],[46,15,33,13],[47,2,34,0],[48,2,36,7],[48,8,36,13,"api"],[48,11,36,16],[48,14,36,19],[49,4,37,2],[50,4,38,2,"register"],[50,12,38,10],[50,14,38,12,"register"],[50,15,38,13,"username"],[50,23,38,29],[50,25,38,31,"email"],[50,30,38,44],[50,32,38,46,"password"],[50,40,38,62],[50,45,39,4,"request"],[50,52,39,11],[50,53,39,12],[50,69,39,28],[50,71,39,30],[51,6,39,32,"method"],[51,12,39,38],[51,14,39,40],[51,20,39,46],[52,6,39,48,"body"],[52,10,39,52],[52,12,39,54,"JSON"],[52,16,39,58],[52,17,39,59,"stringify"],[52,26,39,68],[52,27,39,69],[53,8,39,71,"username"],[53,16,39,79],[54,8,39,81,"email"],[54,13,39,86],[55,8,39,88,"password"],[56,6,39,97],[56,7,39,98],[57,4,39,100],[57,5,39,101],[57,7,39,103],[57,12,39,108],[57,13,39,109],[58,4,41,2,"login"],[58,9,41,7],[58,11,41,9,"login"],[58,12,41,10,"email"],[58,17,41,23],[58,19,41,25,"password"],[58,27,41,41],[58,32,42,4,"request"],[58,39,42,11],[58,40,42,12],[58,53,42,25],[58,55,42,27],[59,6,42,29,"method"],[59,12,42,35],[59,14,42,37],[59,20,42,43],[60,6,42,45,"body"],[60,10,42,49],[60,12,42,51,"JSON"],[60,16,42,55],[60,17,42,56,"stringify"],[60,26,42,65],[60,27,42,66],[61,8,42,68,"email"],[61,13,42,73],[62,8,42,75,"password"],[63,6,42,84],[63,7,42,85],[64,4,42,87],[64,5,42,88],[64,7,42,90],[64,12,42,95],[64,13,42,96],[65,4,44,2,"getMe"],[65,9,44,7],[65,11,44,9,"getMe"],[65,12,44,9],[65,17,44,15,"request"],[65,24,44,22],[65,25,44,23],[65,35,44,33],[65,36,44,34],[66,4,46,2],[67,4,47,2,"startRun"],[67,12,47,10],[67,14,47,12,"startRun"],[67,15,47,12],[67,20,47,18,"request"],[67,27,47,25],[67,28,47,26],[67,41,47,39],[67,43,47,41],[68,6,47,43,"method"],[68,12,47,49],[68,14,47,51],[69,4,47,58],[69,5,47,59],[69,6,47,60],[70,4,49,2,"endRun"],[70,10,49,8],[70,12,49,10,"endRun"],[70,13,49,11,"runId"],[70,18,49,24],[70,20,49,26,"coordinates"],[70,31,49,49],[70,36,50,4,"request"],[70,43,50,11],[70,44,50,12],[70,55,50,23],[70,57,50,25],[71,6,50,27,"method"],[71,12,50,33],[71,14,50,35],[71,20,50,41],[72,6,50,43,"body"],[72,10,50,47],[72,12,50,49,"JSON"],[72,16,50,53],[72,17,50,54,"stringify"],[72,26,50,63],[72,27,50,64],[73,8,50,66,"runId"],[73,13,50,71],[74,8,50,73,"coordinates"],[75,6,50,85],[75,7,50,86],[76,4,50,88],[76,5,50,89],[76,6,50,90],[77,4,52,2,"getUserRuns"],[77,15,52,13],[77,17,52,16,"userId"],[77,23,52,30],[77,27,52,35,"request"],[77,34,52,42],[77,35,52,43],[77,44,52,52,"userId"],[77,50,52,58],[77,52,52,60],[77,53,52,61],[78,4,54,2,"getRunDetail"],[78,16,54,14],[78,18,54,17,"runId"],[78,23,54,30],[78,27,54,35,"request"],[78,34,54,42],[78,35,54,43],[78,51,54,59,"runId"],[78,56,54,64],[78,58,54,66],[78,59,54,67],[79,4,56,2],[80,4,57,2,"getTerritories"],[80,18,57,16],[80,20,57,18,"getTerritories"],[80,21,57,19,"minLng"],[80,27,57,33],[80,29,57,35,"minLat"],[80,35,57,49],[80,37,57,51,"maxLng"],[80,43,57,65],[80,45,57,67,"maxLat"],[80,51,57,81],[80,56,58,4,"request"],[80,63,58,11],[80,64,58,12],[80,87,58,35,"minLng"],[80,93,58,41],[80,104,58,52,"minLat"],[80,110,58,58],[80,121,58,69,"maxLng"],[80,127,58,75],[80,138,58,86,"maxLat"],[80,144,58,92],[80,146,58,94],[80,147,58,95],[81,4,60,2,"getUserTerritories"],[81,22,60,20],[81,24,60,23,"userId"],[81,30,60,37],[81,34,60,42,"request"],[81,41,60,49],[81,42,60,50],[81,63,60,71,"userId"],[81,69,60,77],[81,71,60,79],[81,72,60,80],[82,4,62,2],[83,4,63,2,"getGlobalLeaderboard"],[83,24,63,22],[83,26,63,24,"getGlobalLeaderboard"],[83,27,63,24],[83,32,63,30,"request"],[83,39,63,37],[83,40,63,38],[83,61,63,59],[83,62,63,60],[84,4,65,2],[85,4,66,2,"getUserProfile"],[85,18,66,16],[85,20,66,19,"userId"],[85,26,66,33],[85,30,66,38,"request"],[85,37,66,45],[85,38,66,46],[85,48,66,56,"userId"],[85,54,66,62],[85,64,66,72],[85,65,66,73],[86,4,68,2,"updateProfile"],[86,17,68,15],[86,19,68,17,"updateProfile"],[86,20,68,18,"userId"],[86,26,68,32],[86,28,68,34,"data"],[86,32,68,81],[86,37,69,4,"request"],[86,44,69,11],[86,45,69,12],[86,55,69,22,"userId"],[86,61,69,28],[86,71,69,38],[86,73,69,40],[87,6,69,42,"method"],[87,12,69,48],[87,14,69,50],[87,19,69,55],[88,6,69,57,"body"],[88,10,69,61],[88,12,69,63,"JSON"],[88,16,69,67],[88,17,69,68,"stringify"],[88,26,69,77],[88,27,69,78,"data"],[88,31,69,82],[89,4,69,84],[89,5,69,85],[90,2,70,0],[90,3,70,1],[91,0,70,2],[91,3]],"functionMap":{"names":["<global>","getHeaders","request","register","login","getMe","startRun","endRun","getUserRuns","getRunDetail","getTerritories","getUserTerritories","getGlobalLeaderboard","getUserProfile","updateProfile"],"mappings":"AAA;ACS;CDW;AEE;CFW;YGI;6GHC;SIE;gGJC;SKE,yBL;YMG,gDN;UOE;0FPC;eQE,8CR;gBSE,mDT;kBUG;+FVC;sBWE,0DX;wBYG,oCZ;kBaG,uDb;iBcE;sFdC"},"hasCjsExports":false},"type":"js/module"}]}